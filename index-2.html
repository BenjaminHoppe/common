<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="./style.css">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>common.wtf — commonly used unicodes</title>
</head>

<body>
  <!-- Alert  -->
  <div class="alert-wrapper hide hidden">
    <div class="alert">
      copied <span id="copied-unicode">${item.unicode}</span> to clipboard
    </div>
  </div>

  <!-- Main unicodes -->
  </div>
    <div id="container"></div>
</body>

<script>


// Get the app element
var container = document.querySelector('#container');

// data
var data = [
  {unicode:"←" ,title:"arrow-left", category: "arrow, all"},
  {unicode:"↑" ,title:"arrow-up", category: "arrow, all"},
  {unicode:"→" ,title:"arrow-right", category: "arrow, all"},
  {unicode:"↓" ,title:"arrow-down", category: "arrow, all"},
  {unicode:"↖" ,title:"arrow-up-left", category: "arrow, all"},
  {unicode:"↗︎" ,title:"arrow-up-right", category: "arrow, all"},

]

container.innerHTML = data.map(item =>
  `<div class="item">
    <p class="unicode">${item.unicode}</p>
    <p class="title">${item.title}</p>
  </div>`
).join('')

// copies the unicode
const items = document.querySelectorAll(".item");
items.forEach(function(item) {
  item.addEventListener("click", function() {
    console.log("hello world");
    const arrow = item.querySelector('.unicode').innerHTML;
    const textarea = document.createElement('textarea');
    textarea.value = arrow;
    textarea.style.background = 'red';
    textarea.setAttribute('readonly', '');
    textarea.style.position = 'absolute';
    textarea.style.left = '-9999px';
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
    const span = document.querySelector('#copied-unicode');
    span.innerHTML = arrow;
    copy();
  });
});

// Feedback menu 

const copy = () => {
  // copy to clipbpard 

  const el = document.querySelector(".alert-wrapper");
  el.classList.remove('hidden');
  el.classList.add("show");
  el.classList.remove("hide");

  setTimeout(() => {
    el.classList.remove("show");
    el.classList.add("hide");
  }, 2000);

}


</script>
